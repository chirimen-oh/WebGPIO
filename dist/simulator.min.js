"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();!function(){var e=function(e){return Array.apply(null,{length:18}).map(Number.call,Number)},t=function(e,t,r){return i.CHIRIMEN.PORTS[e].pinName===String(r)&&i.CHIRIMEN.PORTS[e].portName.substring(2,3)===String(t)},r={CHANNEL:{1:183,2:27}},n=function(){function e(t,r){_classCallCheck(this,e),this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),t&&this.svg.setAttributeNS(null,"height",t),r&&this.svg.setAttributeNS(null,"width",r),this.svg.setAttribute("href","http://www.google.com")}return _createClass(e,[{key:"text",value:function e(t,r,n,l,i){var e=document.createElementNS("http://www.w3.org/2000/svg","text");t&&e.setAttributeNS(null,"class",t),e.setAttributeNS(null,"x",n),e.setAttributeNS(null,"y",l),e.setAttributeNS(null,"fill",i),e.textContent=r,this.svg.appendChild(e)}},{key:"rect",value:function e(t,r,n,l,i,u,a){var e=document.createElementNS("http://www.w3.org/2000/svg","rect");t&&e.setAttributeNS(null,"class",t),e.setAttributeNS(null,"height",r),e.setAttributeNS(null,"width",n),e.setAttributeNS(null,"x",l),e.setAttributeNS(null,"y",i),e.setAttributeNS(null,"fill",u),e.setAttributeNS(null,"stroke",a?a:"#000"),this.svg.appendChild(e)}},{key:"ellipse",value:function e(t,r,n,l,i,u,a){var e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");t&&e.setAttributeNS(null,"class",t),e.setAttributeNS(null,"ry",r),e.setAttributeNS(null,"rx",n),e.setAttributeNS(null,"cy",i),e.setAttributeNS(null,"cx",l),e.setAttributeNS(null,"fill",u),e.setAttributeNS(null,"stroke",a?a:"#000"),this.svg.appendChild(e)}},{key:"line",value:function e(t,r,n,l,i,u,a){var e=document.createElementNS("http://www.w3.org/2000/svg","line");t&&e.setAttributeNS(null,"class",t),e.setAttributeNS(null,"x1",r),e.setAttributeNS(null,"y1",n),e.setAttributeNS(null,"x2",l),e.setAttributeNS(null,"y2",i),e.setAttributeNS(null,"stroke",u?u:"#000"),e.setAttributeNS(null,"stroke-width",a?a:"1"),this.svg.appendChild(e)}}]),e}(),l=function(){function l(){var t=this;_classCallCheck(this,l),this.svgElements=[],window.addEventListener("load",function(){var l=!0,i=!1,u=void 0;try{for(var a,o=function(){N=a.value;var l=new n(400,650);l.rect(null,172,305,27.5,19,"#e80202"),l.rect(null,65,79,121.5,68,"#000000"),l.rect(null,39,58,47.5,101,"#000000"),l.rect(null,39,58,47.5,51,"#000000"),l.rect(null,30,23,16.5,30,"#fff"),l.rect(null,30,23,18.5,146,"#fff"),l.rect(null,30,27,15.5,85,"#fff"),l.rect(null,51,53,286,122,"#fff"),l.rect(null,25,49,290,41,"#000000"),l.rect(null,26,33,218,53,"#000000"),l.rect(null,19,24,219,119,"#000000"),e(18).forEach(function(e,t){return l.ellipse("cn1-pin-"+(e+1),4,4.5,135+11*t,r.CHANNEL[1],"#fff")}),e(18).reverse().forEach(function(e,t){return l.ellipse("cn2-pin-"+(e+1),4,4.5,135+11*t,r.CHANNEL[2],"#fff")}),N.appendChild(l.svg),t.svgElements.push({svg:l,elem:N})},s=document.querySelectorAll(".chirimen-sim")[Symbol.iterator]();!(l=(a=s.next()).done);l=!0){var N;o()}}catch(e){i=!0,u=e}finally{try{!l&&s.return&&s.return()}finally{if(i)throw u}}})}return _createClass(l,[{key:"writePropaty",value:function(){this.svgElements.forEach(function(t){t.svg.text(null,"CHANNEL-1",350,20,"#000"),e(18).forEach(function(e,r){return t.svg.text("CN1-pin"+(e+1),"pin-"+(e+1)+" : ",360,40+20*e,"#000")}),t.svg.text(null,"CHANNEL-2",500,20,"#000"),e(18).reverse().forEach(function(e,r){return t.svg.text("CN2-pin"+(e+1),"pin-"+(e+1)+" : ",510,40+20*e,"#000")}),window.WorkerOvserve.observe("debug.gpio.setValue",function(e){var t=i.CHIRIMEN.PORTS[e.value.portNumber],r=!0,n=!1,l=void 0;try{for(var u,a=document.querySelectorAll("."+t.portName.substring(0,3)+"-pin"+t.pinName)[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var o=u.value;o.textContent="pin-"+t.pinName+" : value = "+e.value.value}}catch(e){n=!0,l=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw l}}})})}},{key:"writeLED",value:function(e,t,r){var n=this;this.svgElements.forEach(function(l){var u="dummy-led-"+e+"-"+t+"-"+r;n.__JumperWire(l.svg,e,t,158,254,"#900"),n.__JumperWire(l.svg,e,r,158,254,"#000"),l.svg.ellipse(u,8,8,160,250,"#FFF");for(var a in i.CHIRIMEN.PORTS)window.WorkerOvserve.observe("debug.gpio.setValue",function(e){if(i.CHIRIMEN.PORTS[e.value.portNumber].pinName===String(t)){var r=!0,n=!1,l=void 0;try{for(var a,o=document.querySelectorAll("."+u)[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s.setAttributeNS(null,"fill",e.value.value?"#F00":"#FFF")}}catch(e){n=!0,l=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw l}}}})})}},{key:"writePushBtn",value:function(e,r){var n=this;this.svgElements.forEach(function(l){var u="dummy-pushBtn-"+e+"-"+r;n.__JumperWire(l.svg,e,r,186,254,"#900"),l.svg.rect(null,25,25,178,237,"#CCC"),l.svg.ellipse(u,8,8,190,250,"#555");var a=function(n){return function(){for(var l in i.CHIRIMEN.PORTS)t(l,e,r)&&window.WorkerOvserve.notify("gpio",{method:"gpio.setValue",portNumber:l,value:n})}},o=!0,s=!1,N=void 0;try{for(var c,p=document.querySelectorAll("."+u)[Symbol.iterator]();!(o=(c=p.next()).done);o=!0){var m=c.value;m.addEventListener("mousedown",a(1),!1),m.addEventListener("mouseup",a(0),!1)}}catch(e){s=!0,N=e}finally{try{!o&&p.return&&p.return()}finally{if(s)throw N}}})}},{key:"__JumperWire",value:function(e,t,n,l,i,u){e.line(null,125+11*n,r.CHANNEL[t],l,i,u,4)}}]),l}();window.chirimenSimulator=new l;var i={CHIRIMEN:{PORTS:{256:{portName:"CN1.I2C2_SDA",pinName:"2"},257:{portName:"CN1.I2C2_SCL",pinName:"3"},283:{portName:"CN1.UART3_RX",pinName:"4"},284:{portName:"CN1.UART3_TX",pinName:"5"},196:{portName:"CN1.SPI0_CS",pinName:"7"},197:{portName:"CN1.SPI0_CLK",pinName:"8"},198:{portName:"CN1.SPI0_RX",pinName:"9"},199:{portName:"CN1.SPI0_TX",pinName:"10"},244:{portName:"CN1.SPI1_CS",pinName:"11"},243:{portName:"CN1.SPI1_CLK",pinName:"12"},246:{portName:"CN1.SPI1_RX",pinName:"13"},245:{portName:"CN1.SPI1_TX",pinName:"14"},163:{portName:"CN2.PWM0",pinName:"10"},253:{portName:"CN2.I2C0_SCL",pinName:"11"},252:{portName:"CN2.I2C0_SDA",pinName:"12"},193:{portName:"CN2.UART0_TX",pinName:"13"},192:{portName:"CN2.UART0_RX",pinName:"14"},353:{portName:"CN2.GPIO6_A1",pinName:"15"}},I2C_PORTS:{0:{SDA:{portName:"CN2.I2C0_SCL",pinName:"11"},SCL:{portName:"CN2.I2C0_SDA",pinName:"12"}},2:{SDA:{portName:"CN1.I2C2_SDA",pinName:"2"},SCL:{portName:"CN1.I2C2_SCL",pinName:"3"}}}}}}();