"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();!function(){var e=function(e){return Array.apply(null,{length:18}).map(Number.call,Number)},t=function(e,t,r){return i.CHIRIMEN.PORTS[e].pinName===String(r)&&i.CHIRIMEN.PORTS[e].portName.substring(2,3)===String(t)},r={CHANNEL:{1:183,2:27}},n=function(){function e(t,r){_classCallCheck(this,e),this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),t&&this.svg.setAttributeNS(null,"height",t),r&&this.svg.setAttributeNS(null,"width",r),this.svg.setAttribute("href","http://www.google.com")}return _createClass(e,[{key:"text",value:function e(t,r,n,l,i){var e=document.createElementNS("http://www.w3.org/2000/svg","text");t&&e.setAttributeNS(null,"class",t),e.setAttributeNS(null,"x",n),e.setAttributeNS(null,"y",l),e.setAttributeNS(null,"fill",i),e.textContent=r,this.svg.appendChild(e)}},{key:"rect",value:function e(t,r,n,l,i,u,a){var e=document.createElementNS("http://www.w3.org/2000/svg","rect");t&&e.setAttributeNS(null,"class",t),e.setAttributeNS(null,"height",r),e.setAttributeNS(null,"width",n),e.setAttributeNS(null,"x",i),e.setAttributeNS(null,"y",l),e.setAttributeNS(null,"fill",u),e.setAttributeNS(null,"stroke",a?a:"#000"),this.svg.appendChild(e)}},{key:"ellipse",value:function e(t,r,n,l,i,u,a){var e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");t&&e.setAttributeNS(null,"class",t),e.setAttributeNS(null,"ry",r),e.setAttributeNS(null,"rx",n),e.setAttributeNS(null,"cy",l),e.setAttributeNS(null,"cx",i),e.setAttributeNS(null,"fill",u),e.setAttributeNS(null,"stroke",a?a:"#000"),this.svg.appendChild(e)}},{key:"line",value:function e(t,r,n,l,i,u,a){var e=document.createElementNS("http://www.w3.org/2000/svg","line");t&&e.setAttributeNS(null,"class",t),e.setAttributeNS(null,"x1",r),e.setAttributeNS(null,"y1",n),e.setAttributeNS(null,"x2",l),e.setAttributeNS(null,"y2",i),e.setAttributeNS(null,"stroke",u?u:"#000"),e.setAttributeNS(null,"stroke-width",a?a:"1"),this.svg.appendChild(e)}}]),e}(),l=function(){function l(){var t=this;_classCallCheck(this,l),this.svgElements=[];var i=!0,u=!1,a=void 0;try{for(var o,s=function(){c=o.value;var l=new n(400,650);l.rect(null,172,305,19,27.5,"#e80202"),l.rect(null,65,79,68,121.5,"#000000"),l.rect(null,39,58,101,47.5,"#000000"),l.rect(null,39,58,51,47.5,"#000000"),l.rect(null,30,23,30,16.5,"#fff"),l.rect(null,30,23,146,18.5,"#fff"),l.rect(null,30,27,85,15.5,"#fff"),l.rect(null,51,53,122,286,"#fff"),l.rect(null,25,49,41,290,"#000000"),l.rect(null,26,33,53,218,"#000000"),l.rect(null,19,24,119,219,"#000000"),e(18).forEach(function(e,t){return l.ellipse("cn1-pin-"+(e+1),4,4.5,r.CHANNEL[1],135+11*t,"#fff")}),e(18).reverse().forEach(function(e,t){return l.ellipse("cn2-pin-"+(e+1),4,4.5,r.CHANNEL[2],135+11*t,"#fff")}),c.appendChild(l.svg),t.svgElements.push({svg:l,elem:c})},N=document.querySelectorAll(".chirimen-sim")[Symbol.iterator]();!(i=(o=N.next()).done);i=!0){var c;s()}}catch(e){u=!0,a=e}finally{try{!i&&N.return&&N.return()}finally{if(u)throw a}}}return _createClass(l,[{key:"writePropaty",value:function(){this.svgElements.forEach(function(t){t.svg.text(null,"CHANNEL-1",350,20,"#000"),e(18).forEach(function(e,r){return t.svg.text("CN1-pin"+(e+1),"pin-"+(e+1)+" : ",360,40+20*e,"#000")}),t.svg.text(null,"CHANNEL-2",500,20,"#000"),e(18).reverse().forEach(function(e,r){return t.svg.text("CN2-pin"+(e+1),"pin-"+(e+1)+" : ",510,40+20*e,"#000")}),window.WorkerOvserve.observe("debug.gpio.setValue",function(e){var t=i.CHIRIMEN.PORTS[e.value.portNumber],r=!0,n=!1,l=void 0;try{for(var u,a=document.querySelectorAll("."+t.portName.substring(0,3)+"-pin"+t.pinName)[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var o=u.value;o.textContent="pin-"+t.pinName+" : value = "+e.value.value}}catch(e){n=!0,l=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw l}}})})}},{key:"writeLED",value:function(e,t,r){var n=this;this.svgElements.forEach(function(l){var u="dummy-led-"+e+"-"+t+"-"+r;n.__JumperWire(l.svg,e,t,"#900"),n.__JumperWire(l.svg,e,r,"#000"),l.svg.ellipse(u,8,8,250,160,"#FFF");for(var a in i.CHIRIMEN.PORTS)window.WorkerOvserve.observe("debug.gpio.setValue",function(e){if(i.CHIRIMEN.PORTS[e.value.portNumber].pinName===String(t)){var r=!0,n=!1,l=void 0;try{for(var a,o=document.querySelectorAll("."+u)[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s.setAttributeNS(null,"fill",e.value.value?"#F00":"#FFF")}}catch(e){n=!0,l=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw l}}}})})}},{key:"writePushBtn",value:function(e,r,n){var l=this;this.svgElements.forEach(function(u){var a="dummy-pushBtn-"+e+"-"+r+"-"+n;l.__JumperWire(u.svg,e,r,"#900"),l.__JumperWire(u.svg,e,n,"#000"),u.svg.rect(null,25,25,237,148,"#CCC"),u.svg.ellipse(a,8,8,250,160,"#555");var o=function(n){return function(l){for(var u in i.CHIRIMEN.PORTS)t(u,e,r)&&window.WorkerOvserve.notify("gpio",{method:"gpio.setValue",portNumber:u,value:n})}},s=!0,N=!1,c=void 0;try{for(var p,m=document.querySelectorAll("."+a)[Symbol.iterator]();!(s=(p=m.next()).done);s=!0){var v=p.value;v.addEventListener("mousedown",o(1),!1),v.addEventListener("mouseup",o(0),!1)}}catch(e){N=!0,c=e}finally{try{!s&&m.return&&m.return()}finally{if(N)throw c}}})}},{key:"__JumperWire",value:function(e,t,n,l){e.line(null,125+11*n,r.CHANNEL[t],156,254,l,4)}}]),l}();window.chirimenSimulator=new l;var i={CHIRIMEN:{PORTS:{256:{portName:"CN1.I2C2_SDA",pinName:"2"},257:{portName:"CN1.I2C2_SCL",pinName:"3"},283:{portName:"CN1.UART3_RX",pinName:"4"},284:{portName:"CN1.UART3_TX",pinName:"5"},196:{portName:"CN1.SPI0_CS",pinName:"7"},197:{portName:"CN1.SPI0_CLK",pinName:"8"},198:{portName:"CN1.SPI0_RX",pinName:"9"},199:{portName:"CN1.SPI0_TX",pinName:"10"},244:{portName:"CN1.SPI1_CS",pinName:"11"},243:{portName:"CN1.SPI1_CLK",pinName:"12"},246:{portName:"CN1.SPI1_RX",pinName:"13"},245:{portName:"CN1.SPI1_TX",pinName:"14"},163:{portName:"CN2.PWM0",pinName:"10"},253:{portName:"CN2.I2C0_SCL",pinName:"11"},252:{portName:"CN2.I2C0_SDA",pinName:"12"},193:{portName:"CN2.UART0_TX",pinName:"13"},192:{portName:"CN2.UART0_RX",pinName:"14"},353:{portName:"CN2.GPIO6_A1",pinName:"15"}},I2C_PORTS:{0:{SDA:{portName:"CN2.I2C0_SCL",pinName:"11"},SCL:{portName:"CN2.I2C0_SDA",pinName:"12"}},2:{SDA:{portName:"CN1.I2C2_SDA",pinName:"2"},SCL:{portName:"CN1.I2C2_SCL",pinName:"3"}}}}}}();